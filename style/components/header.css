/* ============================================
   HEADER: Navigation & Brand
   Sticky header with responsive menu toggle
   PERFORMANCE: GPU-composited animations only
   ============================================ */

header {
  position: sticky;
  top: 0;
  z-index: var(--z-header);
  background: rgba(248, 246, 243, 0.95);
  backdrop-filter: blur(12px);
  border-bottom: 2px solid var(--ink);
  box-shadow: var(--shadow-md);
  /* Reserve header height to prevent CLS */
  min-height: 64px;
}

.hdr {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-lg);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-lg);
  min-height: 32px;
}

/* Brand Logo */
.logo {
  font: 700 var(--font-size-xl) / 1 'Caveat', cursive;
  color: var(--ink);
  text-decoration: none;
  position: relative;
  transition: color var(--transition);
}

.logo:hover,
.logo:focus {
  color: var(--accent);
}

.logo::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  right: 0;
  height: 3px;
  background: repeating-linear-gradient(
    90deg,
    var(--accent),
    var(--accent) 8px,
    transparent 8px,
    transparent 12px
  );
  /* GPU-accelerated animation using transform instead of left/width */
  transform: scaleX(0);
  transform-origin: left;
  animation: slideUnderlineGPU 0.5s ease forwards;
}

@keyframes slideUnderlineGPU {
  0% {
    transform: scaleX(0);
    opacity: 0;
  }
  100% {
    transform: scaleX(1);
    opacity: 1;
  }
}

/* Navigation Menu */
nav {
  display: flex;
  gap: var(--space-xl);
  align-items: center;
  flex-wrap: wrap;
}

nav a {
  color: var(--pencil);
  text-decoration: none;
  font-weight: 500;
  position: relative;
  transition: color var(--transition);
  padding: var(--space-xs) 0;
  font-size: var(--font-size-sm);
}

nav a:not(.cv-btn):hover,
nav a:not(.cv-btn):focus-visible {
  color: var(--accent);
}

/* Navigation Link Underline - GPU composited */
nav a:not(.cv-btn)::before {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--accent);
  /* Use scaleX instead of width for GPU compositing */
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--transition-slow) ease;
}

nav a:not(.cv-btn):hover::before {
  transform: scaleX(1);
}

/* Mobile Menu Toggle - Fixed dimensions to prevent CLS */
.menu-toggle {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  font-size: var(--font-size-2xl);
  color: var(--ink);
  padding: var(--space-sm);
  border-radius: var(--radius);
  transition: background-color var(--transition);
  /* Fixed dimensions prevent CLS */
  width: 44px;
  height: 44px;
  min-width: 44px;
  min-height: 44px;
  align-items: center;
  justify-content: center;
}

.menu-toggle:hover,
.menu-toggle:focus-visible {
  background-color: rgba(13, 27, 42, 0.05);
}
